# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ GitHub Actions

## –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç - –≤—Å–µ –≥–æ—Ç–æ–≤–æ!

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
cd packages/twenty-docker/k8s
./get-github-secrets.sh
```

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ GitHub

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret**

–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ —Å–µ–∫—Ä–µ—Ç—ã:

| –°–µ–∫—Ä–µ—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| `KUBE_SERVER` | `https://130.193.35.57` |
| `KUBE_CA_DATA` | `LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...` |
| `KUBE_BEARER_TOKEN` | `eyJhbGciOiJSUzI1NiIsImtpZCI6ImZ4dmdx...` |

### –®–∞–≥ 3: –ì–æ—Ç–æ–≤–æ! üéâ

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ.

## –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏

‚úÖ **KUBE_SERVER** - URL —Å–µ—Ä–≤–µ—Ä–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞  
‚úÖ **KUBE_CA_DATA** - CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (base64)  
‚úÖ **KUBE_BEARER_TOKEN** - —Ç–æ–∫–µ–Ω Service Account  
‚úÖ **YC_CLOUD_ID** - ID –æ–±–ª–∞–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  
‚úÖ **YC_FOLDER_ID** - ID –ø–∞–ø–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤, GitHub Actions –±—É–¥–µ—Ç:
1. –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Kubernetes
3. –í—ã–ø–æ–ª–Ω—è—Ç—å health check

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
chmod +x get-github-secrets.sh
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
```bash
kubectl cluster-info
yc managed-kubernetes cluster get-credentials --id <CLUSTER_ID> --external
```

### –û—à–∏–±–∫–∞ –≤ GitHub Actions
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤.
